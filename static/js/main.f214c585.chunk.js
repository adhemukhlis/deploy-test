(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),i=o(52),c=o.n(i),r=(o(64),o(58)),s=o(53),l=o(54),u=o(56),p=o(55),h=o(57),f=o(19),v=[{elementType:"geometry",stylers:[{color:"#f2f2f2"}]},{elementType:"labels.text.stroke",stylers:[{color:"#fff"}]},{elementType:"labels.text.fill",stylers:[{color:"#333333"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#e6e6e6"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#bfbfbf"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#d9d9d9"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#737373"}]},{featureType:"transit",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#b3e6ff"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#0077b3"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#0099e6"}]}],m="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyB56WOzpBWhLD6hkIdIZgpOplSz_1pm1mk","&callback=resolveGoogleMapsPromise"),d=function(e){return a.a.createElement("svg",Object.assign({},e,{viewBox:"0 0 512 512"}),a.a.createElement("path",{d:"M336 448H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h320c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm157.2-340.7l-81-81c-6.2-6.2-16.4-6.2-22.6 0l-11.3 11.3c-6.2 6.2-6.2 16.4 0 22.6L416 97.9V160c0 28.1 20.9 51.3 48 55.2V376c0 13.2-10.8 24-24 24s-24-10.8-24-24v-32c0-48.6-39.4-88-88-88h-8V64c0-35.3-28.7-64-64-64H96C60.7 0 32 28.7 32 64v352h288V304h8c22.1 0 40 17.9 40 40v27.8c0 37.7 27 72 64.5 75.9 43 4.3 79.5-29.5 79.5-71.7V152.6c0-17-6.8-33.3-18.8-45.3zM256 192H96V64h160v128z"}))},g=function(e){return a.a.createElement("svg",Object.assign({},e,{viewBox:"0 0 448 512"}),a.a.createElement("path",{d:"M448 492v20H0v-20c0-6.627 5.373-12 12-12h20V120c0-13.255 10.745-24 24-24h88V24c0-13.255 10.745-24 24-24h112c13.255 0 24 10.745 24 24v72h88c13.255 0 24 10.745 24 24v360h20c6.627 0 12 5.373 12 12zM308 192h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-168 64h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12zm104 128h-40c-6.627 0-12 5.373-12 12v84h64v-84c0-6.627-5.373-12-12-12zm64-96h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-116 12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40zM182 96h26v26a6 6 0 0 0 6 6h20a6 6 0 0 0 6-6V96h26a6 6 0 0 0 6-6V70a6 6 0 0 0-6-6h-26V38a6 6 0 0 0-6-6h-20a6 6 0 0 0-6 6v26h-26a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6z"}))},y=function(e){return a.a.createElement("svg",Object.assign({},e,{viewBox:"0 0 640 512"}),a.a.createElement("path",{d:"M0 480c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V160H0v320zm579.16-192c17.86-17.39 28.84-37.34 28.84-58.91 0-52.86-41.79-93.79-87.92-122.9-41.94-26.47-80.63-57.77-111.96-96.22L400 0l-8.12 9.97c-31.33 38.45-70.01 69.76-111.96 96.22C233.79 135.3 192 176.23 192 229.09c0 21.57 10.98 41.52 28.84 58.91h358.32zM608 320H192c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h32v-64c0-17.67 14.33-32 32-32s32 14.33 32 32v64h64v-72c0-48 48-72 48-72s48 24 48 72v72h64v-64c0-17.67 14.33-32 32-32s32 14.33 32 32v64h32c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32zM64 0S0 32 0 96v32h128V96c0-64-64-96-64-96z"}))},w=function(e){return a.a.createElement("svg",Object.assign({},e,{viewBox:"0 0 512 512"}),a.a.createElement("path",{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"}))},b=o(25);b.initializeApp({apiKey:"AIzaSyCjI4EOOcjq99MK-sbgtmdWueDe4L1fwug",authDomain:"awesome-places-rntest.firebaseapp.com",databaseURL:"https://awesome-places-rntest.firebaseio.com",projectId:"awesome-places-rntest",storageBucket:"awesome-places-rntest.appspot.com",messagingSenderId:"511064205740"});var k=b.database().ref().child("places"),M=k.child("fc"),C=k.child("ti"),T=k.child("pom"),E=k.child("rs"),x=(b.database.ServerValue.TIMESTAMP,window.google),z=null,O=[],_=function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(o=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={center:{lat:-7.434914,lng:109.25035},places:[],placesLoading:!0},o.set_user_loc=function(){navigator.geolocation.getCurrentPosition(function(e){o.setState({center:{lat:e.coords.latitude,lng:e.coords.longitude}})})},o.get_user_loc=function(){return o.state.center},o.load_map=function(){console.log(o.state.center),console.log(o.get_user_loc),o.getGoogleMaps(o.googleMapsPromise).then(function(e){o.timerID=setInterval(function(){return o.set_user_loc()},3e3)}).then(function(){z=new window.google.maps.Map(document.getElementById("map"),{zoom:16,center:o.get_user_loc(),styles:v,mapTypeControl:!1,fullscreenControl:!1,scaleControl:!1,streetViewControl:!1,zoomControl:!0,zoomControlOptions:{position:window.google.maps.ControlPosition.RIGHT_CENTER}});new window.google.maps.Marker({position:o.get_user_loc(),map:z});var e=document.createElement("div");new o.CenterControl(e,z,o.get_user_loc);e.index=1,e.style["padding-top"]="10px",z.controls[window.google.maps.ControlPosition.RIGHT_CENTER].push(e)})},o.CenterControl=function(e,t,n){Object(f.a)(Object(f.a)(o)).center_=n,e.style.clear="both";var a=document.createElement("div");a.id="goCenterUI",a.title="Click to recenter the map",e.appendChild(a);var i=document.createElement("div");i.id="goCenterText",i.innerHTML='<svg height="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M496 224h-50.88C431.61 143.66 368.34 80.39 288 66.88V16c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v50.88C143.66 80.39 80.39 143.66 66.88 224H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h50.88C80.39 368.34 143.66 431.61 224 445.12V496c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-50.88c80.34-13.51 143.61-76.78 157.12-157.12H496c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM256 384c-70.7 0-128-57.31-128-128s57.3-128 128-128 128 57.31 128 128-57.3 128-128 128zm0-216c-48.6 0-88 39.4-88 88s39.4 88 88 88 88-39.4 88-88-39.4-88-88-88z"/></svg>',a.appendChild(i),a.addEventListener("click",function(){})},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.getGoogleMaps(),this.set_user_loc(),this.load_map()}},{key:"getGoogleMaps",value:function(){return this.googleMapsPromise||(this.googleMapsPromise=new Promise(function(e){window.resolveGoogleMapsPromise=function(){e(x),delete window.resolveGoogleMapsPromise};var t=document.createElement("script");t.src=m,t.async=!0,document.body.appendChild(t)})),this.googleMapsPromise}},{key:"parseData",value:function(e){var t=[];e.forEach(function(e){t.push(Object(r.a)({},e.val(),{key:e.key}))}),this.setState({places:t,placesLoading:!1}),this.addMarkers(),console.log("test")}},{key:"initTi",value:function(){var e=this;C.on("value",function(t){e.parseData(t)})}},{key:"initFC",value:function(){var e=this;M.on("value",function(t){e.parseData(t)})}},{key:"initPOM",value:function(){var e=this;T.on("value",function(t){e.parseData(t)})}},{key:"initRS",value:function(){var e=this;E.on("value",function(t){e.parseData(t)})}},{key:"setMarkers",value:function(e){switch(e){case"TI":this.initTi();break;case"POM":this.initPOM();break;case"FC":this.initFC();break;case"RS":this.initRS()}}},{key:"addMarkers",value:function(){O.map(function(e,t){O[t].setMap(null)}),O=[],this.state.places.map(function(e){var t={lat:e.location.latitude,lng:e.location.longitude},o=new window.google.maps.Marker({position:t,map:z});O.push(o)}),console.log(O.length)}},{key:"render",value:function(){var e=this,t={menu:{flexWrap:"wrap",position:"fixed",display:"flex",alignItems:"center",bottom:0,left:"50%",overflow:"hidden",transform:"translate(-50%, -10%)",zIndex:99},itemMenu:{color:"#444",fill:"#444",fontFamily:"sans-serif",fontWeight:"bold",fontSize:"2vh",display:"flex",flexDirection:"column",flexGrow:"1",width:"10vh",height:"10vh",justifyContent:"center",alignItems:"center",backgroundColor:"#fff",margin:"1vh",padding:"1vh",borderRadius:"1vh",cursor:"pointer",boxShadow:"rgba(0, 0, 0, 0.3) 0px 1px 4px -1px"},icons:{marginBottom:"1vh"}};return a.a.createElement("div",null,a.a.createElement("div",{style:t.menu},a.a.createElement("div",{style:t.itemMenu,onClick:function(){e.setMarkers("RS")}},a.a.createElement(g,{style:t.icons}),"RS"),a.a.createElement("div",{style:t.itemMenu,onClick:function(){e.setMarkers("POM")}},a.a.createElement(d,{style:t.icons}),"POM"),a.a.createElement("div",{style:t.itemMenu,onClick:function(){e.setMarkers("TI")}},a.a.createElement(y,{style:t.icons}),"TI"),a.a.createElement("div",{style:t.itemMenu,onClick:function(){e.setMarkers("FC")}},a.a.createElement(w,{style:t.icons}),"FC")),a.a.createElement("div",{id:"map",style:{width:"100vw",height:"100vh"}}))}}]),t}(n.Component),I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function V(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var o=e.installing;o.onstatechange=function(){"installed"===o.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(a.a.createElement(_,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");I?(function(e,t){fetch(e).then(function(o){404===o.status||-1===o.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):V(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):V(t,e)})}}()},59:function(e,t,o){e.exports=o(121)},64:function(e,t,o){}},[[59,2,1]]]);
//# sourceMappingURL=main.f214c585.chunk.js.map